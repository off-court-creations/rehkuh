[
  {
    "name": "heart",
    "type": "extrude",
    "position": [
      0,
      0.5,
      0
    ],
    "rotation": [
      -1.571,
      0,
      3.142
    ],
    "scale": [
      1,
      1,
      1
    ],
    "material": {
      "type": "shader",
      "shaderName": "heart_noise",
      "vertex": "// Heart noise vertex shader\nvarying vec3 vWorldPosition;\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  vec4 worldPos = modelMatrix * vec4(position, 1.0);\n  vWorldPosition = worldPos.xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",
      "fragment": "// Heart noise fragment shader\nuniform vec3 baseColor;\nuniform vec3 accentColor;\nuniform float time;\n\nvarying vec3 vWorldPosition;\nvarying vec2 vUv;\n\n// Simple noise functions\nfloat hash(vec2 p) {\n  return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);\n}\n\nfloat noise(vec2 p) {\n  vec2 i = floor(p);\n  vec2 f = fract(p);\n  f = f * f * (3.0 - 2.0 * f);\n\n  float a = hash(i);\n  float b = hash(i + vec2(1.0, 0.0));\n  float c = hash(i + vec2(0.0, 1.0));\n  float d = hash(i + vec2(1.0, 1.0));\n\n  return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\n}\n\nfloat fbm(vec2 p) {\n  float v = 0.0;\n  float a = 0.5;\n  for (int i = 0; i < 4; i++) {\n    v += a * noise(p);\n    p *= 2.0;\n    a *= 0.5;\n  }\n  return v;\n}\n\nvoid main() {\n  // Animated noise based on UV and time\n  vec2 pos = vUv * 3.0 + time * 0.2;\n  float n = fbm(pos);\n\n  // Boost contrast - remap from [0.3, 0.7] to [0, 1]\n  n = smoothstep(0.25, 0.75, n);\n\n  // Add secondary layer for more detail\n  float detail = noise(vUv * 8.0 - time * 0.5) * 0.3;\n  n = clamp(n + detail, 0.0, 1.0);\n\n  // Pulsing effect\n  float pulse = sin(time * 2.0) * 0.5 + 0.5;\n  n = n * (0.6 + 0.4 * pulse);\n\n  // Mix between dark and light with more range\n  vec3 darkColor = baseColor * 0.4;\n  vec3 lightColor = accentColor * 1.4;\n  vec3 color = mix(darkColor, lightColor, n);\n\n  // Add highlights\n  float highlight = pow(n, 3.0) * 0.3;\n  color += highlight;\n\n  gl_FragColor = vec4(color, 1.0);\n}\n",
      "uniforms": {
        "baseColor": {
          "type": "color",
          "value": "#ff3366"
        },
        "accentColor": {
          "type": "color",
          "value": "#9141ac"
        },
        "time": {
          "type": "float",
          "value": 0,
          "animated": true
        }
      }
    },
    "shape": {
      "commands": [
        {
          "op": "moveTo",
          "x": 0,
          "y": 0.8
        },
        {
          "op": "bezierCurveTo",
          "cp1x": 0,
          "cp1y": 1.2,
          "cp2x": 0.8,
          "cp2y": 1.2,
          "x": 0.8,
          "y": 0.6
        },
        {
          "op": "bezierCurveTo",
          "cp1x": 0.8,
          "cp1y": 0,
          "cp2x": 0,
          "cp2y": -0.2,
          "x": 0,
          "y": -1
        },
        {
          "op": "bezierCurveTo",
          "cp1x": 0,
          "cp1y": -0.2,
          "cp2x": -0.8,
          "cp2y": 0,
          "x": -0.8,
          "y": 0.6
        },
        {
          "op": "bezierCurveTo",
          "cp1x": -0.8,
          "cp1y": 1.2,
          "cp2x": 0,
          "cp2y": 1.2,
          "x": 0,
          "y": 0.8
        }
      ]
    },
    "extrudeOptions": {
      "depth": 0.1,
      "bevelEnabled": true,
      "bevelThickness": 0.12,
      "bevelSize": 0.15,
      "bevelSegments": 8,
      "steps": 1
    }
  }
]